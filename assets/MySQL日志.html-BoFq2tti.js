import{_ as l,o as e,c as i,a as o}from"./app-oJgUVX7T.js";const a="/assets/image-20230910122009984-iqvUIfHQ.png",r="/assets/image-20230910122026273-CFjrYckH.png",t="/assets/image-20230910122100285-B3Pdqqc0.png",s={},n=o('<h1 id="mysql-日志" tabindex="-1"><a class="header-anchor" href="#mysql-日志"><span>MYSQL 日志</span></a></h1><p>MySQL中有多种类型的日志，用于不同的目的，如事务记录、故障恢复、性能监控和审计等。</p><h2 id="常规日志文件" tabindex="-1"><a class="header-anchor" href="#常规日志文件"><span>常规日志文件</span></a></h2><ol><li><p><strong>错误日志（Error Log）</strong>：</p><ul><li>错误日志记录了MySQL服务器的错误和警告消息。</li><li>通常，错误日志的位置是MySQL的数据目录中，文件名通常是<code>error.log</code>。</li><li>可以使用<code>SHOW VARIABLES LIKE &#39;log_error&#39;;</code>命令来查看错误日志文件的位置。</li></ul><p><img src="'+a+'" alt="image-20230910122009984"></p></li><li><p><strong>查询日志（Query Log）</strong>：</p><ul><li>查询日志记录了执行的SQL查询语句。</li><li>可以通过设置<code>general_log</code>变量来启用或禁用查询日志。</li><li>查询日志的位置可以通过<code>SHOW VARIABLES LIKE &#39;general_log_file&#39;;</code>查看。</li></ul><p><img src="'+r+'" alt="image-20230910122026273"></p></li><li><p><strong>慢查询日志（Slow Query Log）</strong>：</p><ul><li><p>慢查询日志记录了执行时间超过某个阈值的查询，以帮助优化性能。</p></li><li><p>可以通过设置<code>slow_query_log</code>和<code>long_query_time</code>变量来启用和配置慢查询日志。</p></li><li><p>慢查询日志的位置可以通过<code>SHOW VARIABLES LIKE &#39;slow_query_log_file&#39;;</code>查看。</p></li></ul><p><img src="'+t+'" alt="image-20230910122100285"></p></li><li><p><strong>查询缓存日志（Query Cache Log）</strong>：</p><ul><li>查询缓存日志用于记录查询缓存的操作，包括查询缓存的命中和失效情况。</li><li>MySQL 8.0版本后，查询缓存已被移除，所以这个日志在新版MySQL中不再使用。</li></ul></li></ol><h2 id="性能监控-performance-schema" tabindex="-1"><a class="header-anchor" href="#性能监控-performance-schema"><span>性能监控（Performance Schema）</span></a></h2><ul><li>Performance Schema 提供了有关MySQL性能的详细信息，包括执行计划、等待事件和资源使用等。</li><li>用于性能分析和调优。</li></ul><h2 id="审计-audit-log" tabindex="-1"><a class="header-anchor" href="#审计-audit-log"><span>审计（Audit Log）</span></a></h2><p><strong>审计日志（Audit Log）</strong>：</p><ul><li>审计日志记录了关于身份验证和授权的信息，以帮助监视和审计数据库访问。</li><li>MySQL自身通常不提供内置的审计日志功能，但可以使用第三方工具或插件来实现。</li></ul><h2 id="事务日志-transaction-log" tabindex="-1"><a class="header-anchor" href="#事务日志-transaction-log"><span>事务日志（Transaction Log）</span></a></h2><p>事务日志用于记录事务的更改，以确保ACID（原子性、一致性、隔离性、持久性）属性，由MySQL内部管理。</p><ol><li><strong>二进制日志（Binary Log）</strong>： <ul><li>二进制日志记录了数据库中的更改，包括INSERT、UPDATE和DELETE操作。</li><li>二进制日志对于复制、恢复和故障恢复非常重要。</li><li>可以通过设置<code>log_bin</code>变量来启用或禁用二进制日志。</li><li>二进制日志的位置可以通过<code>SHOW MASTER STATUS;</code>查看。</li></ul></li><li><strong>重放日志（Redo Log）</strong>： <ul><li>重放日志用于在数据库恢复期间还原数据的更改。</li><li>这些日志通常不直接访问，而是由MySQL内部管理。</li></ul></li><li><strong>回滚日志（Undo Log）</strong>： <ul><li>用于支持事务和多版本并发控制（MVCC）的关键组件</li><li>存储在事务执行期间所做的更改的旧数据版本，以便在需要时进行回滚和提供一致的读取。</li></ul></li></ol>',12),c=[n];function g(d,p){return e(),i("div",null,c)}const m=l(s,[["render",g],["__file","MySQL日志.html.vue"]]),u=JSON.parse('{"path":"/database/mysql/MySQL%E6%97%A5%E5%BF%97.html","title":"MYSQL 日志","lang":"zh-CN","frontmatter":{},"headers":[{"level":2,"title":"常规日志文件","slug":"常规日志文件","link":"#常规日志文件","children":[]},{"level":2,"title":"性能监控（Performance Schema）","slug":"性能监控-performance-schema","link":"#性能监控-performance-schema","children":[]},{"level":2,"title":"审计（Audit Log）","slug":"审计-audit-log","link":"#审计-audit-log","children":[]},{"level":2,"title":"事务日志（Transaction Log）","slug":"事务日志-transaction-log","link":"#事务日志-transaction-log","children":[]}],"git":{"updatedTime":1694326385000,"contributors":[{"name":"拔土豆的程序员","email":"lizhifuabc@163.com","commits":1}]},"filePathRelative":"database/mysql/MySQL日志.md"}');export{m as comp,u as data};

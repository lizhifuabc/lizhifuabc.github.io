import{_ as a,r as i,o as r,c as o,b as e,e as n,d as l,a as s}from"./app-oJgUVX7T.js";const c="/assets/image-20231225122432983-zcgqFF1X.png",p="/assets/image-20231226123130978-DncLEPJe.png",h="/assets/image-20231226123059081-eS2PgSYV.png",m="/assets/image-20231226123517209-BaD8HHn6.png",_={},g=e("h1",{id:"客户端认证授权",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#客户端认证授权"},[e("span",null,"客户端认证授权")])],-1),u={href:"https://github.com/lizhifuabc/spring-authorization-server-example",target:"_blank",rel:"noopener noreferrer"},d=s('<p>客户端在oauth2角色解释中是第三方的一个应用，一般会配合资源服务一起使用。即客户端也是资源服务器。</p><ol><li>单体项目 <ol><li>同时添加资源服务依赖，客户端负责调用认证服务登录</li><li>资源服务器配置解析token</li></ol></li><li>网关项目 <ol><li>网关中添加客户端依赖，检查用户认证信息，由网关代理的微服务添加资源服务依赖，解析网关通过令牌中继的方式携带的access_token；各个微服务添加自己的授权校验。</li><li>网关中集成客户端依赖，同时集成资源服务依赖，由网关检查用户的认证和授权信息；各个微服务不用添加任何的认证与授权相关的处理，可以直接访问；这种方式需要屏蔽各微服务其它ip的访问，只能由网关代理访问。</li></ol></li></ol><h2 id="访问受限资源-preauthorize" tabindex="-1"><a class="header-anchor" href="#访问受限资源-preauthorize"><span>访问受限资源：@PreAuthorize</span></a></h2><p>http://auth-client:9001/read</p><p>http://auth-client:9001/write</p><p><img src="'+c+'" alt="image-20231225122432983"></p><ol><li>访问受限资源：@PreAuthorize</li><li>没有登录信息重定向至认证服务器去请求授权</li><li>return：没有登录则重定向至登录页面</li></ol><h2 id="用户使用账号密码登录" tabindex="-1"><a class="header-anchor" href="#用户使用账号密码登录"><span>用户使用账号密码登录</span></a></h2><p><img src="'+p+'" alt="image-20231226123130978"></p><p><img src="'+h+'" alt="image-20231226123059081"></p><h2 id="端点" tabindex="-1"><a class="header-anchor" href="#端点"><span>端点</span></a></h2><blockquote><p>http://auth-server:9000/.well-known/openid-configuration</p></blockquote><p><img src="'+m+'" alt="image-20231226123517209"></p>',13);function f(z,b){const t=i("ExternalLinkIcon");return r(),o("div",null,[g,e("p",null,[e("a",u,[n("lizhifuabc/spring-authorization-server-example: Spring OAuth2 Authorization Server 集成，认证服务、第三方登录、自定义grant_type等等 (github.com)"),l(t)])]),d])}const k=a(_,[["render",f],["__file","客户端认证授权.html.vue"]]),x=JSON.parse('{"path":"/spring/springBoot/%E5%AE%A2%E6%88%B7%E7%AB%AF%E8%AE%A4%E8%AF%81%E6%8E%88%E6%9D%83.html","title":"客户端认证授权","lang":"zh-CN","frontmatter":{},"headers":[{"level":2,"title":"访问受限资源：@PreAuthorize","slug":"访问受限资源-preauthorize","link":"#访问受限资源-preauthorize","children":[]},{"level":2,"title":"用户使用账号密码登录","slug":"用户使用账号密码登录","link":"#用户使用账号密码登录","children":[]},{"level":2,"title":"端点","slug":"端点","link":"#端点","children":[]}],"git":{"updatedTime":1704446575000,"contributors":[{"name":"拔土豆的程序员","email":"lizhifuabc@163.com","commits":1}]},"filePathRelative":"spring/springBoot/客户端认证授权.md"}');export{k as comp,x as data};
